<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>IFE JavaScript Task 04</title>
		<style type="text/css">
			ul,li{list-style: none;margin: 0;padding: 0;}
			#num_list{margin-top: 10px;}
			#num_list li{
				float: left;
				margin-right:10px;
				height: 40px;
				line-height:40px;
				padding: 0 10px;
				background: orange;
				color: #ffffff;
			}
			#num_list li:hover{cursor: default;}
		</style>
	</head>
	<body>
		<input type="text" id="add_num"/>
		<input type="button" id="left_in" value="左侧入"/>
		<input type="button" id="right_in" value="右侧入"/>
		<input type="button" id="left_out" value="左侧出"/>
		<input type="button" id="right_out" value="右侧出"/>
		<ul id="num_list"></ul>
		 
		<script type="text/javascript">
			var addNum=document.getElementById("add_num");
			var leftIn=document.getElementById("left_in");
			var rightIn=document.getElementById("right_in");
			var leftOut=document.getElementById("left_out");
			var rightOut=document.getElementById("right_out");
			var numList=document.getElementById("num_list");
			
			/*输入一个数字增加一个li标签*/
			function insertNum(){
			    if(addNum.value==""){
			        alert("请输入一个数字！");
			    }else if(!isNaN(addNum.value)){
			        var addLi=document.createElement('li');
			        addLi.innerHTML=addNum.value;
			        numList.insertBefore(addLi,numList.firstChild);
			        addNum.value="";
			    }else{
			        alert("格式错误，请重新输入一个数字！")
			    }
			}
			function appendNum() {
			    	if(addNum.value==""){
			    		alert("请输入一个数字！");
			    	}else if(!isNaN(addNum.value)){
			    		var addLi=document.createElement("li");
			    		addLi.innerHTML=addNum.value;
			    		numList.appendChild(addLi);
			    		addNum.value="";
			    	}else{
			    		alert("格式错误，请输入数字！");
			    	}
			}
			leftIn.addEventListener("click",insertNum);
			rightIn.addEventListener("click",appendNum);
			
			/*点击左侧出、右侧出分别读取并删除队列左右第一个元素，并弹窗显示元素中数值*/
			var liList=numList.getElementsByTagName("li");
			function removeLeft(){
			    if(confirm("该值为"+liList[0].innerHTML+"你确定要删除？")){
			        liList[0].remove();
			    }else{
			        alert("取消删除")
			    }
			}
			function removeRight(){
			    	if(confirm("该值为："+liList[liList.length-1].innerHTML+"，确定要删除吗？")){
			    		liList[liList.length-1].remove();
			    	}else{
			    		alert("取消删除");
			    	}
			}
			leftOut.addEventListener("click",removeLeft);
    			rightOut.addEventListener("click",removeRight);
			
			/*点击队列中任何一个元素，则该元素会被从队列中删除*/
			numList.addEventListener("click",function(e){
			    if(event.target.nodeName.toLowerCase()=="li"){
			        numList.removeChild(event.target);
			    }
			})
		</script>
	</body>
</html>
